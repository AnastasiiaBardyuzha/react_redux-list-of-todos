{"version":3,"sources":["store.ts","components/Todo/Todo.tsx","components/TodoList/TodoList.tsx","helpers_api.ts","Todos.tsx","index.tsx","App.tsx"],"names":["initialState","todos","isLoading","isLoaded","selectedSort","store","createStore","state","action","type","filter","todo","id","Todo","connect","dispatch","setDeleted","user","title","completed","className","name","onClick","TodoList","todosList","map","key","API_URL","getData","url","a","fetch","response","json","getPreparedTodos","users","preparedTodos","find","person","userId","Todos","setIsLoading","status","setIsLoaded","setTodos","todosFromApi","setSelectedSort","sort","showedAllTodos","sortedTodos","useMemo","aTodo","bTodo","localeCompare","Number","value","onChange","event","typeOfSort","target","disabled","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.9fafbc1f.chunk.js","sourcesContent":["import { createStore, AnyAction } from 'redux';\nimport { PreparedTodo } from './types';\n\nexport interface State {\n  todos: PreparedTodo[] | []\n  isLoading: boolean\n  isLoaded: boolean\n  selectedSort: string\n}\n\nconst initialState: State = {\n  todos: [],\n  isLoading: false,\n  isLoaded: false,\n  selectedSort: 'choose',\n}\n\nfunction reduser(state = initialState, action: AnyAction) {\n  switch(action.type) {\n    case 'SET_IS_LOADING':\n      return { ...state,\n      isLoading: action.isLoading}\n    case 'SET_IS_LOADED':\n      return { ...state,\n      isLoaded: action.isLoaded}\n    case 'SET_TODOS':\n      return { ...state,\n      todos: action.todos}\n    case 'SET_SELECTED_SORT':\n      return { ...state,\n      selectedSort: action.selectedSort}\n   case 'DELETE_TASK':\n    return { ...state,\n      todos: [...state.todos].filter(todo => todo.id !== action.id)}\n    default:\n      return state;\n  }\n};\n\nexport const store = createStore(reduser);\n","import React, { FC } from 'react';\nimport { connect } from 'react-redux';\nimport { Dispatch } from 'redux';\nimport { PreparedTodo } from '../../types';\n\nimport '../../App.css';\n\ninterface Props {\n  todo: PreparedTodo\n  setDeleted: (id: number) => void\n}\n\nexport const TodoTemplate: FC<Props> = ({ todo, setDeleted }) => {\n  const { user, title, completed, id } = todo;\n\n  return (\n    <tr>\n      {user && (<td className=\"table__cell\">{user.name}</td>)}\n      <td className=\"table__cell\">{title}</td>\n      <td className=\"table__cell table__cell-completed\">{completed ? 'Done' : 'Don\\'t do'}</td>\n      <td className=\"table__cell\">\n        <button\n          type=\"button\"\n          className=\"deleted_button\"\n          onClick={() => setDeleted(id)}\n        >\n          Delete\n        </button>\n      </td>\n    </tr>\n  );\n}\n\nconst mapDispatchToProps = (dispatch: Dispatch) => {\n  return {\n    setDeleted: (id: number) => dispatch({ type: 'DELETE_TASK', id: id})\n  }\n}\n\nexport const Todo = connect(\n  null,\n  mapDispatchToProps,\n)(TodoTemplate)\n","import React, { FC } from 'react';\nimport { PreparedTodo } from '../../types';\nimport { Todo } from '../Todo/Todo';\n\ninterface Props {\n  todosList: PreparedTodo[]\n}\n\nexport const TodoList: FC<Props> = ({ todosList }) => (\n  <>\n    {todosList.map(todo => <Todo key={todo.id} todo={todo} />)}\n  </>\n);\n","import { User, Todo, PreparedTodo } from './types';\n\nconst API_URL = 'https://jsonplaceholder.typicode.com/';\n\nexport const getData = async <T>(url: string): Promise<T> => {\n  const response = await fetch(url);\n\n  return response.json();\n}\n\nexport const getTodos = (): Promise<Todo[]> => {\n  return getData<Todo[]>(`${API_URL}todos`);\n};\n\nexport const getUsers = (): Promise<User[]> => {\n  return getData<User[]>(`${API_URL}users`);\n};\n\nexport const getPreparedTodos = async (): Promise<PreparedTodo[]> => {\n  const todos: Todo[] = await getTodos();\n  const users: User[] = await getUsers();\n  const preparedTodos: PreparedTodo[] = todos.map(todo => ({\n    ...todo,\n    user: users.find(person => person.id === todo.userId),\n  }));\n  return preparedTodos;\n};\n","import React, { FC, useMemo } from 'react';\nimport { connect } from 'react-redux';\nimport { Dispatch } from 'redux';\nimport { PreparedTodo } from './types';\nimport { TodoList } from './components/TodoList/TodoList';\nimport { getPreparedTodos } from './helpers_api';\nimport { State } from './store';\n\n\ninterface StateProps {\n  todos: PreparedTodo[] | []\n  isLoading: boolean\n  isLoaded: boolean\n  selectedSort: string\n}\n\ninterface Methods {\n  setTodos: (todosFromApi: PreparedTodo[]) => void;\n  setIsLoading: (status: boolean) => void;\n  setIsLoaded: () => void;\n  setSelectedSort: (sort: string) => void;\n}\n\ntype Props = StateProps & Methods;\n\nexport const TodosTemplate: FC<Props> = ({\n  isLoading,\n  setIsLoading,\n  setIsLoaded,\n  isLoaded,\n  todos,\n  setTodos,\n  setSelectedSort,\n  selectedSort\n}) => {\n\n  const showedAllTodos = async () => {\n    setIsLoading(true);\n\n    const todosFromApi = await getPreparedTodos();\n\n    setTodos(todosFromApi);\n    setIsLoading(false);\n    setIsLoaded();\n  }\n\n  const sorted = (event: React.ChangeEvent<HTMLSelectElement>) => {\n    const { value: typeOfSort } = event.target;\n    setSelectedSort(typeOfSort);\n  }\n\n  const sortedTodos = useMemo(() => {\n    return selectedSort === 'initial'\n        ? [...todos]\n        : [...todos].sort((aTodo, bTodo) => {\n          switch(selectedSort) {\n            case 'title':\n              return aTodo.title.localeCompare(bTodo.title);\n            case 'name':\n              return aTodo.user && bTodo.user ? aTodo.user.name.localeCompare(bTodo.user.name) : 0;\n            case 'completed':\n              return Number(aTodo.completed) - Number(bTodo.completed);\n            default:\n            return 0;\n          }\n        })\n\n  }, [todos, selectedSort]);\n\n  if (isLoading) {\n    return (\n      <p className=\"loading\">\n      Loading...\n      </p>\n    );\n  }\n\n  return (\n    <div className=\"app\">\n      <h1 className=\"title\">Dynamic list of TODOs</h1>\n      {(\n        !isLoaded\n        ? (\n            <>\n              <p className=\"initual_loading\">\n                Load your Todos\n              </p>\n              <button\n                type=\"button\"\n                className=\"loading_button\"\n                onClick={showedAllTodos}\n              >\n                Load\n              </button>\n            </>\n           )\n          : (\n            <>\n              <select value={selectedSort}\n                onChange={sorted}\n                className=\"selected_button\"\n              >\n                <option disabled value='choose'>Choose sort method</option>\n                <option value='initial'>Initial view</option>\n                <option value='title'>Title</option>\n                <option value='name'>Name</option>\n                <option value='completed'>Completed</option>\n              </select>\n              <table className=\"table\">\n                <thead>\n                  <tr className=\"table__title\">\n                    <th className=\"table__cell\">User</th>\n                    <th className=\"table__cell\">Todo</th>\n                    <th className=\"table__cell\">Status</th>\n                    <th className=\"table__cell\">Delete</th>\n                  </tr>\n                </thead>\n                <tbody>\n                  <TodoList todosList={sortedTodos} />\n                </tbody>\n              </table>\n            </>\n          )\n        )}\n      </div>\n    )\n}\n\nconst mapStateToProps = (state: State) => ({\n  isLoading: state.isLoading,\n  isLoaded: state.isLoaded,\n  todos: state.todos,\n  selectedSort: state.selectedSort\n});\nconst mapDispatchToProps = (dispatch: Dispatch) => {\n  return {\n    setIsLoading: (status: boolean) => dispatch({ type: 'SET_IS_LOADING', isLoading: status }),\n    setIsLoaded: () => dispatch({ type: 'SET_IS_LOADED', isLoaded: true }),\n    setTodos: (todosFromApi: PreparedTodo[]) => dispatch({ type: 'SET_TODOS', todos: todosFromApi }),\n    setSelectedSort: (sort: string) => dispatch({ type: 'SET_SELECTED_SORT', selectedSort: sort })\n  }\n};\n\nexport const Todos = connect(\n  mapStateToProps,\n  mapDispatchToProps,\n)(TodosTemplate)\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { App } from './App';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root'),\n);\n","import React, { FC } from 'react';\nimport { Provider } from 'react-redux';\nimport { store } from './store';\nimport { Todos } from './Todos';\n\nimport './App.css';\n\nexport const App: FC = () => (\n  <Provider store={store}>\n    <Todos />\n  </Provider>\n);\n"],"sourceRoot":""}